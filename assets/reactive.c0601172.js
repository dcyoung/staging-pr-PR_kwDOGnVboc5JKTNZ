import{r as g,M as R,u as _,j as y,B as v,a as B,b,C as d,H as E,c as F,f as G,F as N,G as L,V as O}from"./index.de5560ba.js";import{L as V}from"./Lut.4156cedc.js";const j=({coordinateMapper:M,nPerSide:e=10,cubeSideLength:l=.5,cubeSpacingScalar:i=.1,volume:A=!0,colorLut:T="cooltowarm"})=>{const u=g.exports.useRef(null),m=g.exports.useMemo(()=>new R,[]),I=A?d.CARTESIAN_3D:d.CARTESIAN_CUBE_FACES;return g.exports.useEffect(()=>{const w=new V(T);let p,t,o,a,s;for(let r=0;r<e;r++)for(let n=0;n<e;n++)for(let c=0;c<e;c++)p=r*e**2+n*e+c,t=r/(e-1),o=n/(e-1),a=c/(e-1),t==0||t==1?s=Math.hypot(o-.5,a-.5)/E:o==0||o==1?s=Math.hypot(t-.5,a-.5)/E:a==0||a==1?s=Math.hypot(t-.5,o-.5)/E:s=0,u.current.setColorAt(p,w.getColor(s));u.current.instanceColor.needsUpdate=!0}),_(({clock:w})=>{const p=w.getElapsedTime(),t=e*(1+i)*l;let o,a,s,r,n,c,U,f;for(let C=0;C<e;C++)for(let h=0;h<e;h++)for(let x=0;x<e;x++)o=C*e**2+h*e+x,a=C/(e-1),s=h/(e-1),r=x/(e-1),n=t*(a-.5),c=t*(s-.5),U=t*(r-.5),m.setPosition(n,c,U),f=.1+.9*M.map(I,a,s,r,p),m.elements[0]=f,m.elements[5]=f,m.elements[10]=f,u.current.setMatrixAt(o,m);u.current.instanceMatrix.needsUpdate=!0}),y("instancedMesh",{ref:u,castShadow:!0,receiveShadow:!0,args:[new v,new B,e**3],children:[b("boxGeometry",{attach:"geometry",args:[l,l,l,1]}),b("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},Y=({coordinateMapper:M})=>{const{nPerSide:e,cubeUnitSideLength:l,cubeUnitSpacingScalar:i,volume:A}=F({"Visual - Cube":G({nPerSide:{value:10,min:3,max:50,step:1},cubeUnitSideLength:{value:.5,min:.1,max:2,step:.05},cubeUnitSpacingScalar:{value:.1,min:0,max:2,step:.1},volume:!0},{collapsed:!0})});return y(N,{children:[b(j,{coordinateMapper:M,nPerSide:e,cubeSideLength:l,cubeSpacingScalar:i,volume:A}),b(L,{position:new O(0,0,-.75*e*(1+i)*l)})]})};export{Y as default};
